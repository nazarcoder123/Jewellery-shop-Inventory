{% extends "base.html" %}
{% block content%}
<div class='inventory_list'>
<div id = 'add_filter'>
   <a id='new_product'  href="/new" >Add New Product</a>
   <div id='filter'>
      <p>Filter by type:</p>
      {% for type in types %}
      <a href="/products/type/{{type}}">{{type}}</a>
       {% endfor %}
   </div> 
</div>
<article>
   {% for product in products%}
   <section class = 'inventory_item'>
      <div class='product_top'>
         <a href="/products/{{product.id}}" class ='img_link'>
            <img src='https://images.unsplash.com/photo-1598560917807-1bae44bd2be8?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=800&q=80'>
         </a>
         <div class='name_by_designer'>
            <p>{{product.name}}</p>
            <a href='designers/{{product.designer.id}}'>by {{product.designer.name}}</a>
         </div>
      </div>
      <p><b>Type:</b> {{product.type}}</p>
      <p class='description'>{{product.description}}</p>
      <div class='cost_price'>
         <p><b>Cost:</b> £{{product.cost}}</p>
         <p><b>Price:</b> £{{product.price}}</p>
      </div>
      <p><b>Markup:</b> £ {{product.calculate_markup()}}</p>
      <div class='quantity'>
         <p><b>Quantity:</b> {{product.quantity}}</p>
         {% if product.low_stock() == True %}
         <p class='low_stock'>low stock</p>
         {% endif %}
         {% if product.out_of_stock() == True %}
         <p class='out_of_stock'>out of stock</p>
         {% endif %}
      </div>
      <div class='buttons'>
         <a href="/products/{{product.id}}/edit" class="material-icons orange">edit</a>
         <button class="material-icons green">add</button>
      </div>
   </section>
{% endfor%}
</article>
</div>
{% endblock %}